execute if score @s[scores={dimension=1}] anchor.num = #current homes.dummy run tellraw @a[tag=listhomes,limit=1] [{"text":"","clickEvent":{"action":"suggest_command","value":"/trigger home set "},"color":"dark_gray"},{"text":"[","bold":true},{"score":{"name":"@s","objective":"anchor.num"},"color":"yellow"},{"text":"] ","bold":true},{"text":"||     ","bold":true},{"selector":"@s","color":"gold"},{"text":"     ||","bold":true}," (",{"score":{"name":"@s","objective":"position.x"},"color":"gold"},", ",{"score":{"name":"@s","objective":"position.y"},"color":"gold"},", ",{"score":{"name":"@s","objective":"position.z"},"color":"gold"},") ",{"text":"||","bold":true}]
execute if score @s[scores={dimension=0}] anchor.num = #current homes.dummy run tellraw @a[tag=listhomes,limit=1] [{"text":"","clickEvent":{"action":"suggest_command","value":"/trigger home set "},"color":"dark_gray"},{"text":"[","bold":true},{"score":{"name":"@s","objective":"anchor.num"},"color":"yellow"},{"text":"] ","bold":true},{"text":"|| ","bold":true},{"selector":"@s","color":"gold"},{"text":" ||","bold":true}," (",{"score":{"name":"@s","objective":"position.x"},"color":"gold"},", ",{"score":{"name":"@s","objective":"position.y"},"color":"gold"},", ",{"score":{"name":"@s","objective":"position.z"},"color":"gold"},") ",{"text":"||","bold":true}]
execute if score @s[scores={dimension=-1}] anchor.num = #current homes.dummy run tellraw @a[tag=listhomes,limit=1] [{"text":"","clickEvent":{"action":"suggest_command","value":"/trigger home set "},"color":"dark_gray"},{"text":"[","bold":true},{"score":{"name":"@s","objective":"anchor.num"},"color":"yellow"},{"text":"] ","bold":true},{"text":"||   ","bold":true},{"selector":"@s","color":"gold"},{"text":"   ||","bold":true}," (",{"score":{"name":"@s","objective":"position.x"},"color":"gold"},", ",{"score":{"name":"@s","objective":"position.y"},"color":"gold"},", ",{"score":{"name":"@s","objective":"position.z"},"color":"gold"},") ",{"text":"||","bold":true}]
scoreboard players add #current homes.dummy 1
execute unless score #current homes.dummy = #current homes.set as @e[type=area_effect_cloud,tag=homes.anchor] if score @s anchor.id = #current player.id run function commands:player/homes/listhomes/tellraw
execute unless score #current homes.dummy = #current homes.set as @a[tag=listhomes] if score @s player.id = #current player.id run tag @s remove listhomes